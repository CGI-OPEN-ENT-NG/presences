<div class="course-item-container">
    <div class="absence" ng-if="item.containsAbsence && !item.containsReasonAbsence">&nbsp;</div>
    <div class="exemption" ng-if="item.exempted" ng-class="{absent: item.containsAbsence}">&nbsp;</div>
    <div class="absenceReason" ng-if="!item.containsAbsence && item.containsReasonAbsence">&nbsp;</div>

    <div class="globalAbsence" ng-if="item._id === '0' && item.absence && item.absenceReason === 0">&nbsp;</div>
    <div class="globalAbsenceReason" ng-if="item._id === '0' && item.absence && item.absenceReason > 0">&nbsp;</div>

    <div class="course-item"
         data-ng-attr-id="[[isAbsenceOnly(item) || isAbsenceJustifiedOnly(item) ? 'absent' + item.dayOfWeek + '-' + item.hash : null]]"
         ng-class="{
         'contains-absence': item.containsAbsence && !item.containsReasonAbsence,
         'contains-absenceReason': !item.containsAbsence && item.containsReasonAbsence,
         'contains-events': item.events.length > 0 || item.exempted,

         'contains-globalAbsence': item._id === '0' && item.absence && item.absenceReason === 0,
         'contains-globalAbsenceReason': item._id === '0' && item.absence && item.absenceReason > 0,
         'is-absence': item.hasOwnProperty('hash')
         }">
        <div class="data">
            <div class="subject cell">[[item.subject_name]]</div>
            <em class="metadata right-magnet"><span ng-repeat="room in item.roomLabels">[[room]]</span> </em>
        </div>
        <div class="events">
            <i ng-if="item.incident" class="report incident"></i>
            <div class="event event-type-[[event.type_id]]" ng-repeat="event in item.events">&nbsp;</div>
        </div>
    </div>
    <div class="right-side">
        <div ng-mouseenter="hoverExemption($event, item.exemption)" ng-mouseleave="hoverOutExemption()"
             class="exemption-label"
             ng-if="item.exempted">
            <i18n>presences.calendar.exemption.code</i18n>
        </div>
    </div>
    <span ng-bind="::vm.changeAbsence(item)"></span>
</div>